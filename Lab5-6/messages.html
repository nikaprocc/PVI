<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="author" content="Veronika Protsiv">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#27535c">
  <link rel="apple-touch-icon" href="./images/icon192.png">
  
  <title>Messages</title>
  <link href="./images/favicon.ico" rel="icon" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link href='https://unpkg.com/css.gg@2.0.0/icons/css/pen.css' rel='stylesheet'>
  <link href='https://unpkg.com/css.gg@2.0.0/icons/css/bell.css' rel='stylesheet'>
  <link href='https://unpkg.com/css.gg@2.0.0/icons/css/add-r.css' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link href="manifest.json" rel="manifest">
</head>
<body>

    <div class="context-menu" id="profile-menu" style="z-index:3">
        <div>
            <div id="in-account">
            <button id="profile">Profile</button>
            <button id="messages">Messages</button>
            <button id="logout">Log Out</button>
            </div>
            <div id="out-account">
            <button id="login">Log In</button>
            </div>
        </div>
    </div>

    <dialog id="add-user-dialog">
        <div class="dialog-content">
            <h3>All Users</h3>
            <ul id="user-list" class="user-list">
                <!-- User items will be added here dynamically -->
            </ul>
            <button id="close-dialog-btn" class="close-btn">Close</button>
        </div>
    </dialog>
    
    <!-- Button to open the dialog -->
    <button id="open-dialog-btn">Add Users</button>

    <dialog id="login-dialog">
        <div class="position-relative d-flex justify-content-between" id="stinfo-begin">
            <h3 id="stinfo-action" class="my-3">Login</h3>
            <button type="button" id="login-cancel" class="button-style ml-auto">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <hr>
        <form>
            <div id="stinfo-forms" class="modal-body d-flex flex-column justify-content-between align-items-center my-5">
                <div class=" d-flex justify-content-center">
                    <h4 class="forms-items text-si">Username</h4>
                    <input type="text" class="forms-fields" name="name" id="login-username">
                </div>
                <div class=" d-flex justify-content-center">
                    <h4 class="forms-items text-si">Password</h4>
                    <input type="password" class="forms-fields" name="name" id="login-password">
                </div>
                </div>
                </form>
                <hr>
                <div class="modal-footer float-end">
                    <button class="button-style btn-text ms-1 mt-2" id="login-button">Login</button>
                    <button class="button-style btn-text ms-1 mt-2" id="register-move-button">Register</button>
                </div>
        </dialog>


        <dialog id="register-dialog">
            <div class="position-relative d-flex justify-content-between" id="stinfo-begin">
                <h3 id="stinfo-action" class="my-3">Register</h3>
                <button type="button" id="register-cancel" class="button-style ml-auto">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <hr>
            <form>
                <div id="stinfo-forms" class="modal-body d-flex flex-column justify-content-between align-items-center my-5">
                    <div class=" d-flex justify-content-center">
                        <h4 class="forms-items text-si">Username</h4>
                        <input type="text" class="forms-fields" name="name" id="register-username">
                    </div>
                    <div class=" d-flex justify-content-center">
                        <h4 class="forms-items text-si">Name</h4>
                        <input class="forms-fields" name="name" id="register-name">
                    </div>
                    <div class=" d-flex justify-content-center">
                        <h4 class="forms-items text-si">Surname</h4>
                        <input class="forms-fields" name="name" id="register-surname">
                    </div>
                    <div class=" d-flex justify-content-center">
                        <h4 class="forms-items text-si">Password</h4>
                        <input type="password" class="forms-fields" name="name" id="register-password">
                    </div>
                    </div>
                    </form>
                    <hr>
                    <div class="modal-footer float-end">
                        <button class="button-style btn-text ms-1 mt-2" id="register-button">Register</button>
                    </div>
            </dialog>


<div class="context-menu" id="profile-notifications" style="z-index: 3">

</div>

<div style="position: absolute;top:0; left:0; right: 0; bottom: 0; ">
    <header class="bg-header d-flex justify-content-between align-items-center py-2 text-center">
        <div class="h3 text-light align-items-center text-center my-0" style="margin-left: 8px;" id="sometext">CMS</div>
        <div class="d-flex align-items-center me-3" id="user">  
                <i class="gg-bell text-light fs-3" id="acc-notif">
                </i>
            <div class="red-dot" id="indicator"style="display: none"></div>
            <img src="./images/icon.jpg" alt="account icon" class="rounded-circle mx-2 icon" width="40" height="40" id="acc_icon">
            <p class="text-light m-0" id="acc_name"></p>
        </div>
    </header>

    <div class="row" style="height: 100%;" id="container" style="">
        <nav class="col-md-2 bg-body p-3" id="nav-menu">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a href="#" class="nav-link" id="dashboard-button">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a href="http://localhost:5000/" class="nav-link" id="students-button" style="font-weight: bold;">Students</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" id="tasks-button">Tasks</a>
                </li>
            </ul>
        </nav>

        <main class="col-md-10" style="height:100%;">
            <section class="sec-main" style="height: 100%;">
                <h2 class="sec-title mb-4 mt-3" id="page-title">Messages</h2>
            <div style="display: flex; justify-content: space-between; height: 100%;">
                <div id="chat-list" class="chat-window" style="width: 25%; height: 80%;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <h5 style="font-weight: bold;">Chat room</h5>
                    <button id="new-chat-button">New chat</button>
                </div>
                <div>
                    <ul id="account-chat-list" style="list-style-type: none;">
                        
                    </ul>
                </div>
                </div>
                <div id="chat-window" class="chat-window" style="width: 70%; height: 80%; display:flex; flex-direction: column; padding-left: 2%; padding-right: 2%;">
                <h3 id="Chat-w-name">Chat room</h3>
                <div id="chat-window1" style="height: 90%">
                <h5>Members</h5>
                <div style="display: flex; float:center; align-items: center;">
                    <div id="memeners" style="display: flex;float:center; align-items: center;">
            
                </div>
                <label id="add-memeber" style="background-color: #CCCCCC; border:1px solid #CCCCCC; border-radius: 50%; color:white; width: 30px; height: 30px; text-align: center; font-size: 22px;">+</label>
                </div>
                <h5>Messages</h5>
                <div style="float: left; display: flex; flex-direction:column;justify-content: left;float:left; width: 100%; margin-right: 0; height: 70%; margin-right: 0; overflow-y: auto;" id="chat-view-window">
                
                </div>
                </div>
                <div style="position: relative; bottom:0;width: 100%; height: 50px; display: flex; padding: 5px; border: 1px solid #8f8f8f; border-radius: 3px; justify-content: space-between;">
                    <input type="text" id="message-context" style="width:95%">
                    <div style="float:center; align-items: center; padding:7px">
                        <i id="send-message" class="material-icons" style="align-self: center; cursor: pointer;">&#xe163;</i>
                    </div>
                </div>
                </div>
                </div>
            </div>
            </section>
        </main>
    </div>
</div>


<dialog id="create-chat-dialog">
    <form>
        <div style="display: flex; width: 100%; align-items: center; float:center; justify-content: center;">
        <label for="chat-name-enter" class="" style="font-size: 20px;">name</label>
        <input type="text" class="forms-fields" id="chat-name-enter">
        <button id="create-chat" class="button-style" style="margin-right: 5px; width: auto;">Create</button>
        <buttton id="cancel-create-chat" class="button-style" style="width: auto; margin-right: 5px;">Cancel</button>
        </div>     
    </form>
</dialog>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="script.js"></script>
</body>
</html>
